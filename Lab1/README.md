# Lab1

## Призначення системи
Система **_онлайн-банкінгу_** призначена для управління фінансами користувачів у режимі реального часу.
Вона дозволяє клієнтам здійснювати перекази між рахунками, переглядати баланс, користуватися платіжними картками, оформлювати позики та контролювати свої фінансові операції.
База даних забезпечує централізоване зберігання інформації про клієнтів, рахунки, картки, транзакції та кредити.

## Потреби зацікавлених сторін

1. **Клієнт** (Customer): бажає мати зручний доступ до своїх рахунків, можливість переглядати історію операцій, оформлювати позики та керувати картками онлайн.
2. **Банк**: потребує системи для зберігання даних про клієнтів, рахунки й операції, контролю руху коштів та обліку виданих позик.

## Дані, що зберігаються

* **Customer**: ім’я, прізвище, email, номер телефону.
* **Account**: номер IBAN, баланс, валюта, тип рахунку.
* **Card**: номер картки, тип, дата завершення дії.
* **Transaction**: тип, сума, валюта, дата, відправник і отримувач рахунку.
* **Loan**: сума, відсоткова ставка, дати початку й завершення, статус позики.

## Бізнес-правила
1. Один клієнт може мати кілька рахунків, але кожен рахунок належить лише одному клієнту. 
2. Один рахунок може бути пов’язаний із кількома картками. 
3. Кожна транзакція має рахунок-відправник і рахунок-отримувач. 
4. Баланс рахунку змінюється після виконання транзакції. 
5. Один рахунок може мати кілька позик, кожна з яких має власну суму, відсоткову ставку й статус. 
6. Валюта позики збігається з валютою рахунку, з якого вона оформлена.

[ER-діаграма](BankSystem.mmd)
![img.png](ER-diagram.png)

## Список сутностей

**Customer**
* Зберігає особисті дані клієнтів.
* Ключовий атрибут — id.
* Кожен клієнт може мати кілька банківських рахунків.

**Account**

* Містить інформацію про банківські рахунки клієнтів (номер IBAN, баланс, валюта, тип).
* Кожен рахунок належить одному клієнту та може бути пов’язаний із кількома картками, транзакціями й позиками.

**Card**

* Зберігає дані платіжних карток (номер, тип, термін дії).
* Кожна картка прив’язана до певного рахунку. Один рахунок може мати кілька карток.

**Transaction**

* Відображає фінансові операції (сума, дата, валюта, тип).
* Має два зв’язки з таблицею Account:
  * fromAccount — рахунок-відправник
  * toAccount — рахунок-отримувач
* Один рахунок може бути учасником багатьох транзакцій.

**Loan**

* Містить дані про видані позики (сума, ставка, дати, статус).
* Кожна позика належить одному рахунку. Один рахунок може мати кілька позик.

## Припущення та обмеження
1.	Один клієнт може мати кілька рахунків, але кожен рахунок належить лише одному клієнту.
2.	Один рахунок може бути прив’язаний до кількох карток.
3.	Усі суми в системі зберігаються у валюті рахунку.
4.	Кожна позика оформлюється в тій самій валюті, що і рахунок.
5.	Транзакції можуть здійснюватися лише між активними рахунками.
6.	Дані клієнтів (email, телефон) мають бути унікальними.
